{"version":3,"sources":["store/reducer.js","plugins/redux.js","store/state.js","components/Auth.js","components/Header.js","components/Footer/Footer.js","components/Carousel/Carousel.js","components/List/List.js","pages/Home.js","pages/My.js","pages/ShopCart.js","pages/Detail.js","pages/ErrorPage.js","pages/Regist.js","pages/Login.js","pages/App.js","index.js"],"names":["store","createStore","state","action","type","payload","list","isExist","map","value","index","search","id","num","push","Auth","props","document","cookie","isLogin","this","Component","component","rest","render","to","React","Header","style","border","backgroundColor","onBack","history","go","title","location","pathname","subTitle","withRouter","Footer","className","activeStyle","color","Rarousel","effect","autoplay","List","item","key","src","goodsImg","goodsName","goodsPrice","Home","axios","url","then","res","setState","data","dataName","My","ShopCart","clearCart","length","detailImg","onClick","connect","ownProps","dispatch","Detail","slice","addToShopCart","buyNow","detail","alert","ErrorPage","NormalLoginForm","handleSubmit","e","preventDefault","form","validateFields","err","values","method","catch","getFieldDecorator","onSubmit","Item","rules","required","message","prefix","placeholder","htmlType","WrappedNormalLoginForm","Form","create","name","username","valuePropName","initialValue","href","App","exact","from","path","Regist","Login","ReactDom","getElementById"],"mappings":"s5BAEe,ICIAA,EAFHC,aDFG,SAACC,EAAOC,GAAY,IACzBC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QACRC,EAAI,YAAOJ,EAAMI,MACjBC,EAAU,EACd,OAAQH,GACJ,IAAK,MAML,IAAK,MAKD,OAJAE,EAAKE,KAAI,SAACC,EAAOC,GACbD,EAAME,OAAO,GAAGC,IAAMP,EAAQ,GAAGO,MAAQN,EAAKI,GAAOG,KAAON,OAErD,GAAXA,EAAeD,EAAKQ,KAAK,CAAEH,OAAQN,EAASQ,IAAK,IAAON,IACjD,EAAP,GAAYL,EAAZ,CAAmBI,KAAMA,IAC7B,IAAK,QACD,OAAO,EAAP,GAAYJ,EAAZ,CAAmBI,KAAM,KAC7B,QACI,OAAOJ,KEtBJ,CACXI,KAAM,K,yDCEWS,E,YACjB,WAAYC,GAAQ,IAAD,6BACf,4CAAMA,IACHC,SAASC,OACR,EAAKhB,MAAQ,CACTiB,SAAS,GAGb,EAAKjB,MAAQ,CACTiB,SAAS,GARF,E,sEAaT,IAAD,SACmCC,KAAKJ,MAA5BK,EADZ,EACCC,UAAyBC,EAD1B,6BAEL,OAAO,kBAAC,IAAD,CAAOC,OAAQ,SAACR,GACnB,OAAO,EAAKd,MAAMiB,QAAU,kBAACE,EAAD,iBAAeE,EAAUP,IAAY,kBAAC,IAAD,CAAUS,GAAG,kB,GAjBxDC,IAAML,W,yBCElCM,E,iLACQ,IAAD,OACL,OACI,kBAAC,IAAD,CACIC,MAAO,CACHC,OAAQ,+BACRC,gBAAiB,UAErBC,OAAQ,kBAAM,EAAKf,MAAMgB,QAAQC,IAAI,IACrCC,OACqC,UAAjCd,KAAKJ,MAAMmB,SAASC,SAAwB,eACX,cAAjChB,KAAKJ,MAAMmB,SAASC,UAA4B,uBACf,QAAjChB,KAAKJ,MAAMmB,SAASC,UAAsB,gBACT,YAAjChB,KAAKJ,MAAMmB,SAASC,UAA0B,sBACb,YAAjChB,KAAKJ,MAAMmB,SAASC,UAA0B,gBACb,WAAjChB,KAAKJ,MAAMmB,SAASC,UAAyB,gBAC7C,MAEJC,SAAS,yD,GAlBJX,IAAML,WAwBZiB,cAAWX,GCXXY,G,wLAVP,OACI,yBAAKC,UAAU,UACX,kBAAC,IAAD,CAASf,GAAG,QAAQe,UAAU,YAAYC,YAAa,CAACC,MAAO,SAA/D,gBACA,kBAAC,IAAD,CAASjB,GAAG,YAAYe,UAAU,UAAUC,YAAa,CAACC,MAAO,SAAjE,sBACA,kBAAC,IAAD,CAASjB,GAAG,MAAMe,UAAU,SAASC,YAAa,CAACC,MAAO,SAA1D,qB,GANKhB,IAAML,Y,SCDNsB,G,wLAEb,OACI,kBAAC,IAAD,CAAUC,OAAO,OAAOC,UAAQ,GAC5B,6BACI,8BAEJ,6BACI,8BAEJ,6BACI,mC,GAXkBnB,IAAML,YCuB7ByB,G,wLApBP,OACI,yBAAKN,UAAU,QACX,4BAEQpB,KAAKJ,MAAMV,KAAKE,KAAI,SAACuC,EAAMrC,GAAP,OAChB,kBAAC,IAAD,CAAM8B,UAAU,QAAQQ,IAAKtC,EAAOe,GAAI,WAAYf,EAAQ,IACxD,yBAAKuC,IAAKF,EAAKG,SAAUV,UAAU,aACnC,yBAAKA,UAAU,eACX,uBAAGA,UAAU,aAAaO,EAAKI,WAC/B,0BAAMX,UAAU,cAAcO,EAAKK,uB,GAXpD1B,IAAML,Y,iBCwBVgC,E,YAnBX,WAAYrC,GAAQ,IAAD,8BACf,+CAJJd,MAAQ,CACJI,KAAM,IAINgD,IAAM,CACFC,IAAK,cACNC,MACC,SAAAC,GAAG,OAAI,EAAKC,SAAS,CAAEpD,KAAMmD,EAAIE,UALtB,E,sEAQT,IACArD,EAASc,KAAKlB,MAAdI,KACN,OACI,yBAAKkC,UAAW,QACZ,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAMlC,KAAMA,EAAMsD,SAAS,c,GAjBxBlC,IAAML,WCKVwC,E,YATX,WAAY7C,GAAQ,IAAD,8BACf,4CAAMA,KACDd,MAAQ,GAFE,E,sEAKf,OAAO,+C,GANEwB,IAAML,WCGjByC,G,wLACQ,IAAD,EACoB1C,KAAKJ,MAAxB+C,EADD,EACCA,UAAUzD,EADX,EACWA,KAChB,OACI,6BAEQA,EAAK0D,OAAS,GAAK,yBAAKxB,UAAU,YAC9B,4BACKlC,EAAKE,KAAI,SAACC,EAAOC,GACd,OACI,wBAAIsC,IAAKtC,GACL,2BAAON,KAAK,WAAWoC,UAAU,aACjC,yBAAKS,IAAKxC,EAAME,OAAO,GAAGsD,YAC1B,2BAAO7D,KAAK,SAASK,MAAM,IAAI+B,UAAU,WACzC,0BAAMA,UAAU,OAAO/B,EAAMI,KAC7B,2BAAOT,KAAK,SAASK,MAAM,IAAI+B,UAAU,iBAKzD,yBAAKA,UAAU,aAAa0B,QAAS,kBAAMH,MAA3C,kBACM,yG,GArBPrC,IAAML,YAoDd8C,eApBE,SAACjE,EAAOkE,GACrB,MAAO,CACH9D,KAAMJ,EAAMI,SAMA,SAAC+D,GACjB,MAAO,CACHN,UAAW,WACPM,EAAS,CAAEjE,KAAM,cASd+D,CAA+BL,GClDxCQ,G,mBAIF,WAAYtD,GAAQ,IAAD,8BACf,+CAJJd,MAAQ,CACJI,KAAK,IAILgD,IAAM,CACFC,IAAK,eAAiBvC,EAAMmB,SAASxB,OAAO4D,MAAM,EAAG,KACtDf,MACC,SAAAC,GAAG,OAAI,EAAKC,SAAS,CAAEpD,KAAMmD,EAAIE,UALtB,E,sEAST,IAAD,SAC2BvC,KAAKJ,MAA/BwD,EADD,EACCA,cAAeC,EADhB,EACgBA,OACrB,OACI,6BAEQrD,KAAKlB,MAAMI,KAAK0D,OAAS,GAAK,yBAAKxB,UAAU,UACzC,yBAAKS,IAAK7B,KAAKlB,MAAMI,KAAK,GAAG2D,YAC7B,2BAAI7C,KAAKlB,MAAMI,KAAK,GAAGoE,QACvB,2BAAOtE,KAAK,SAASK,MAAM,iCAAQyD,QAAS,kBAAMM,EAAc,EAAKtE,MAAMI,SAE3E,kBAAC,IAAD,CAAMmB,GAAG,YAAYyC,QAAS,kBAAMO,EAAO,EAAKvE,MAAMI,QAAtD,kC,GAvBHoB,IAAML,YAwDZ8C,eAvBE,SAACjE,EAAMkE,GACpB,MAAO,CACH9D,KAAMJ,EAAMI,SAMA,SAAC+D,GACjB,MAAO,CACHG,cAAe,SAAC7D,GACZ0D,EAAS,CAAEjE,KAAM,MAAOC,QAASM,IACjCgE,MAAM,6BAEVF,OAAQ,SAAC9D,GACL0D,EAAS,CAAEjE,KAAM,MAAOC,QAASM,QAQ9BwD,CAA+BG,GCvD/BM,E,iLAJP,OAAO,wG,GAFSlD,IAAML,W,kCCKxBwD,G,kNACFC,aAAe,SAAAC,GACXA,EAAEC,iBACF,EAAKhE,MAAMiE,KAAKC,gBAAe,SAACC,EAAKC,GAC5BD,GACD7B,IAAM,CACFC,IAAK,cACL8B,OAAQ,OACR1B,KAAMyB,IACP5B,MAAK,SAACC,GACc,GAAhBA,EAAIE,KAAKwB,IACR,EAAKnE,MAAMgB,QAAQlB,KAAK,UAExB6D,MAAM,2CAGZW,OACE,SAAA7B,GAAG,OAAEkB,MAAM,mC,wEAMjB,IACEY,EAAsBnE,KAAKJ,MAAMiE,KAAjCM,kBACR,OACI,yBAAK3E,GAAG,qCACJ,kBAAC,IAAD,CAAM4E,SAAUpE,KAAK0D,aAActC,UAAU,cACzC,kBAAC,IAAKiD,KAAN,KACKF,EAAkB,WAAY,CAC3BG,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,0CADtCL,CAGG,kBAAC,IAAD,CACIM,OAAQ,kBAAC,IAAD,CAAMzF,KAAK,OAAOwB,MAAO,CAAEc,MAAO,qBAC1CoD,YAAY,yBAIxB,kBAAC,IAAKL,KAAN,KACKF,EAAkB,WAAY,CAC3BG,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,oCADtCL,CAGG,kBAAC,IAAD,CACIM,OAAQ,kBAAC,IAAD,CAAMzF,KAAK,OAAOwB,MAAO,CAAEc,MAAO,qBAC1CtC,KAAK,WACL0F,YAAY,mBAIxB,kBAAC,IAAKL,KAAN,KACI,kBAAC,IAAD,CAAQrF,KAAK,UAAU2F,SAAS,SAASvD,UAAU,qBAAnD,gBADJ,UAIM,kBAAC,IAAD,CAAMf,GAAG,UAAT,uB,GArDIC,IAAML,YA+DrB2E,EAFgBC,IAAKC,OAAO,CAAEC,KAAM,gBAApBF,CAAsCpB,G,SC7D/DA,E,2MACFC,aAAe,SAAAC,GACXA,EAAEC,iBACF,EAAKhE,MAAMiE,KAAKC,gBAAe,SAACC,EAAKC,GAC5BD,GACD7B,IAAM,CACFC,IAAK,aACL8B,OAAQ,OACR1B,KAAMyB,IACP5B,MAAK,SAACC,GACe,GAAhBA,EAAIE,KAAKwB,KACTlE,SAASC,OAAT,mBAA8BkE,EAAOgB,SAArC,WACA,EAAKpF,MAAMgB,QAAQlB,KAAK,UAExB6D,MAAM,6DAGZW,OACE,SAAA7B,GAAG,OAAIkB,MAAM,mC,wEAMnB,IACEY,EAAsBnE,KAAKJ,MAAMiE,KAAjCM,kBACR,OACI,yBAAK3E,GAAG,qCACJ,kBAAC,IAAD,CAAM4E,SAAUpE,KAAK0D,aAActC,UAAU,cACzC,kBAAC,IAAKiD,KAAN,KACKF,EAAkB,WAAY,CAC3BG,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,0CADtCL,CAGG,kBAAC,IAAD,CACIM,OAAQ,kBAAC,IAAD,CAAMzF,KAAK,OAAOwB,MAAO,CAAEc,MAAO,qBAC1CoD,YAAY,yBAIxB,kBAAC,IAAKL,KAAN,KACKF,EAAkB,WAAY,CAC3BG,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,oCADtCL,CAGG,kBAAC,IAAD,CACIM,OAAQ,kBAAC,IAAD,CAAMzF,KAAK,OAAOwB,MAAO,CAAEc,MAAO,qBAC1CtC,KAAK,WACL0F,YAAY,mBAIxB,kBAAC,IAAKL,KAAN,KACKF,EAAkB,WAAY,CAC3Bc,cAAe,UACfC,cAAc,GAFjBf,CAGE,kBAAC,IAAD,4BACH,uBAAG/C,UAAU,oBAAoB+D,KAAK,IAAtC,mCAGA,kBAAC,IAAD,CAAQnG,KAAK,UAAU2F,SAAS,SAASvD,UAAU,qBAAnD,gBARJ,UAWM,kBAAC,IAAD,CAAMf,GAAG,WAAT,uB,GA7DIC,IAAML,WAuErB2E,EAFgBC,IAAKC,OAAO,CAAEC,KAAM,gBAApBF,CAAsCpB,GCtCtD2B,E,iLAnBP,OACI,yBAAKhE,UAAW,OACZ,kBAAC,EAAD,MACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUiE,OAAK,EAACC,KAAK,IAAIjF,GAAG,UAC5B,kBAAC,IAAD,CAAOkF,KAAK,QAAQrF,UAAW+B,IAC/B,kBAAC,EAAD,CAAMsD,KAAK,MAAMrF,UAAWuC,IAC5B,kBAAC,EAAD,CAAM8C,KAAK,YAAYrF,UAAWwC,IAClC,kBAAC,IAAD,CAAO6C,KAAK,UAAUrF,UAAWgD,IACjC,kBAAC,IAAD,CAAOqC,KAAK,UAAUrF,UAAWsF,IACjC,kBAAC,IAAD,CAAOD,KAAK,SAASrF,UAAWuF,IAChC,kBAAC,IAAD,CAAOvF,UAAWsD,KAEtB,kBAAC,EAAD,W,GAfElD,IAAML,WCTxByF,IAAStF,OACL,kBAAC,IAAD,CAAWxB,MAAOA,GACd,kBAAC,IAAD,KACI,kBAAC,EAAD,QAGRiB,SAAS8F,eAAe,W","file":"static/js/main.166519bd.chunk.js","sourcesContent":["//reducer负责突变state和获取state，所以不管你点不调用reducer，它一开始就会运行一次返回state给组件\r\n//reducer要求一定要返回state\r\nexport default (state, action) => {\r\n    let { type, payload } = action;\r\n    let list = [...state.list];\r\n    let isExist = 0;\r\n    switch (type) {\r\n        case 'ADD':\r\n            list.map((value, index) => {\r\n                value.search[0].id == payload[0].id && ++list[index].num && isExist++\r\n            })\r\n            isExist == 0 ? list.push({ search: payload, num: 1 }) : isExist--\r\n            return { ...state, list: list };\r\n        case 'BUY':\r\n            list.map((value, index) => {\r\n                value.search[0].id == payload[0].id && ++list[index].num && isExist++\r\n            })\r\n            isExist == 0 ? list.push({ search: payload, num: 1 }) : isExist--\r\n            return { ...state, list: list };\r\n        case 'CLEAR':\r\n            return { ...state, list: [] }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n\r\n};","import {createStore} from 'redux';\r\nimport reducer from '../store/reducer';\r\nimport state from '../store/state';\r\n\r\nlet store = createStore(reducer, state);\r\n\r\nexport default store;","export default {\r\n    list: []\r\n};","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport default class Auth extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        if(document.cookie){\r\n            this.state = {\r\n                isLogin: true\r\n            }\r\n        } else {\r\n            this.state = {\r\n                isLogin: false\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { component: Component, ...rest } = this.props;\r\n        return <Route render={(props)=>{\r\n            return this.state.isLogin ? <Component {...rest} {...props} /> : <Redirect to='/login' />\r\n        }} />\r\n    }\r\n}","import React from 'react';\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nimport { PageHeader } from 'antd';\r\n\r\nclass Header extends React.Component {\r\n    render() {\r\n        return (\r\n            <PageHeader\r\n                style={{\r\n                    border: '1px solid rgb(235, 237, 240)',\r\n                    backgroundColor: 'tomato'\r\n                }}\r\n                onBack={() => this.props.history.go(-1)}\r\n                title={\r\n                    this.props.location.pathname === '/home' && '首页' ||\r\n                    this.props.location.pathname === '/shopcart' && '购物车' ||\r\n                    this.props.location.pathname === '/my' && '我的' ||\r\n                    this.props.location.pathname === '/detail' && '详情页' ||\r\n                    this.props.location.pathname === '/regist' && '注册' ||\r\n                    this.props.location.pathname === '/login' && '登录' ||\r\n                    '404'\r\n                }\r\n                subTitle=\"欢迎来到我的网页\"\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Header);","import React from 'react';\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport './Footer.css'\r\n\r\n\r\nclass Footer extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"footer\">\r\n                <NavLink to='/home' className=\"firstPage\" activeStyle={{color: '#fff'}}>首页</NavLink>\r\n                <NavLink to='/shopcart' className=\"shopCar\" activeStyle={{color: '#fff'}}>购物车</NavLink>\r\n                <NavLink to='/my' className=\"myPage\" activeStyle={{color: '#fff'}}>我的</NavLink>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nimport { Carousel } from 'antd';\r\nimport './Carousel.css'\r\n\r\nexport default class Rarousel extends React.Component {\r\n    render() {\r\n        return (\r\n            <Carousel effect=\"fade\" autoplay>\r\n                <div>\r\n                    <h3></h3>\r\n                </div>\r\n                <div>\r\n                    <h3></h3>\r\n                </div>\r\n                <div>\r\n                    <h3></h3>\r\n                </div>\r\n            </Carousel>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport './List.css'\r\n\r\n\r\nclass List extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"list\">\r\n                <ul>\r\n                    {\r\n                        this.props.list.map((item, index) => (\r\n                            <Link className=\"goods\" key={index} to={'detail?'+ (index + 1)}>\r\n                                <img src={item.goodsImg} className=\"goodsImg\" />\r\n                                <div className=\"goodsDetail\">\r\n                                    <p className=\"goodsName\">{item.goodsName}</p>\r\n                                    <span className=\"goodsPrice\">{item.goodsPrice}</span>\r\n                                </div>\r\n                            </Link>\r\n                        ))\r\n                    }\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default List;","import React from 'react';\r\n\r\nimport Carousel from '../components/Carousel/Carousel'\r\nimport List from '../components/List/List'\r\n\r\nimport axios from 'axios'\r\n\r\nclass Home extends React.Component {\r\n    state = {\r\n        list: []\r\n    }\r\n    constructor(props) {\r\n        super()\r\n        axios({\r\n            url: '/api/list'\r\n        }).then(\r\n            res => this.setState({ list: res.data })\r\n        )\r\n    }\r\n    render() {\r\n        let { list } = this.state;\r\n        return (\r\n            <div className={'home'}>\r\n                <Carousel></Carousel>\r\n                <List list={list} dataName=\"home\" />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\n\r\nclass My extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n    render() {\r\n        return <div>this is my</div>\r\n    }\r\n}\r\n\r\nexport default My;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport '../assets/css/ShopCart.css'\r\n\r\nclass ShopCart extends React.Component {\r\n    render() {\r\n        let { clearCart,list } = this.props;\r\n        return (\r\n            <div>\r\n                {\r\n                    list.length > 0 && <div className=\"shopcart\">\r\n                        <ul>\r\n                            {list.map((value, index) => {\r\n                                return (\r\n                                    <li key={index}>\r\n                                        <input type='checkbox' className='checkbox'></input>\r\n                                        <img src={value.search[0].detailImg} />\r\n                                        <input type='button' value='-' className='reduce'></input>\r\n                                        <span className='num'>{value.num}</span>\r\n                                        <input type='button' value='+' className='increce'></input>\r\n                                    </li>\r\n                                )\r\n                            })}\r\n                        </ul>\r\n                        <div className='settlement' onClick={() => clearCart()}>结算</div>\r\n                    </div> || <div>\r\n                        您的购物车还没有宝贝哦~\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//把App组件需要的数据从公共state里获取并返回给App\r\n//maState接收外面的state\r\nconst mapState = (state, ownProps) => {\r\n    return {\r\n        list: state.list\r\n    }\r\n};\r\n\r\n//把App组件需要发送的请求传出去，App需要用到的方法，返回给App\r\n//mapDispatch接收外面的dispatch\r\nconst mapDispatch = (dispatch) => {\r\n    return {\r\n        clearCart: () => {\r\n            dispatch({ type: 'CLEAR'})\r\n            // alert('购买成功')\r\n        }\r\n    }\r\n};\r\n\r\n// let Container = connect(mapState, mapDispatch)(App);\r\n// export default Container;\r\n//容器组件\r\nexport default connect(mapState, mapDispatch)(ShopCart);","import React from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport '../assets/css/Detail.css'\r\n\r\nclass Detail extends React.Component {\r\n    state = {\r\n        list:[]\r\n    }\r\n    constructor(props) {\r\n        super();\r\n        axios({\r\n            url: '/api/detail/' + props.location.search.slice(1, 2)\r\n        }).then(\r\n            res => this.setState({ list: res.data })\r\n        )\r\n    }\r\n\r\n    render() {\r\n        let { addToShopCart, buyNow } = this.props;\r\n        return (\r\n            <div>\r\n                {\r\n                    this.state.list.length > 0 && <div className=\"detail\">\r\n                        <img src={this.state.list[0].detailImg} />\r\n                        <p>{this.state.list[0].detail}</p>\r\n                        <input type='button' value='加入购物车' onClick={() => addToShopCart(this.state.list)}/>\r\n                        {/* <input type='button' value='立即购买' onClick={() => buyNow(this.props.location.search.slice(1, 2))}/> */}\r\n                        <Link to='/shopcart' onClick={() => buyNow(this.state.list)}>立即购买</Link>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//把App组件需要的数据从公共state里获取并返回给App\r\n//maState接收外面的state\r\nconst mapState = (state,ownProps) => {\r\n    return {\r\n        list: state.list\r\n    }\r\n};\r\n\r\n//把App组件需要发送的请求传出去，App需要用到的方法，返回给App\r\n//mapDispatch接收外面的dispatch\r\nconst mapDispatch = (dispatch) => {\r\n    return {\r\n        addToShopCart: (search) => {\r\n            dispatch({ type: 'ADD', payload: search })\r\n            alert('添加成功')\r\n        },\r\n        buyNow: (search) => {\r\n            dispatch({ type: 'BUY', payload: search })\r\n        }\r\n    }\r\n};\r\n\r\n// let Container = connect(mapState, mapDispatch)(App);\r\n// export default Container;\r\n//容器组件\r\nexport default connect(mapState, mapDispatch)(Detail);","import React from 'react';\r\n\r\nclass ErrorPage extends React.Component{\r\n    render() {\r\n        return <div>您的网页被外星人掳走啦~</div>\r\n    }\r\n}\r\n\r\nexport default ErrorPage;","import React from 'react';\r\nimport { Form, Icon, Input, Button, Checkbox } from 'antd';\r\nimport axios from 'axios'\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport '../assets/css/Regist.css';\r\n\r\nclass NormalLoginForm extends React.Component {\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                axios({\r\n                    url: '/api/regist',\r\n                    method: 'post',\r\n                    data: values\r\n                }).then((res) => {\r\n                    if(res.data.err == 0){\r\n                        this.props.history.push('/login')\r\n                    } else {\r\n                        alert('该用户已存在')\r\n                    }\r\n                }\r\n                ).catch(\r\n                    res=>alert('注册失败')\r\n                )\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <div id='components-form-demo-normal-login'>\r\n                <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n                    <Form.Item>\r\n                        {getFieldDecorator('username', {\r\n                            rules: [{ required: true, message: '请输入用户名' }],\r\n                        })(\r\n                            <Input\r\n                                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                placeholder=\"用户名\"\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('password', {\r\n                            rules: [{ required: true, message: '请输入密码' }],\r\n                        })(\r\n                            <Input\r\n                                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                type=\"password\"\r\n                                placeholder=\"密码\"\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                            注册\r\n                    </Button>\r\n                        去 <Link to=\"/login\">登录</Link>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({ name: 'normal_login' })(NormalLoginForm);\r\n\r\nexport default WrappedNormalLoginForm","import React from 'react';\r\nimport { Form, Icon, Input, Button, Checkbox } from 'antd';\r\nimport axios from 'axios'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport '../assets/css/Regist.css';\r\n\r\nclass NormalLoginForm extends React.Component {\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                axios({\r\n                    url: '/api/login',\r\n                    method: 'post',\r\n                    data: values\r\n                }).then((res) => {\r\n                    if (res.data.err == 0) {\r\n                        document.cookie = `username=${values.username};path=/`\r\n                        this.props.history.push('/home')\r\n                    } else {\r\n                        alert('用户名或密码不正确')\r\n                    }\r\n                }\r\n                ).catch(\r\n                    res => alert('登录失败')\r\n                )\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <div id='components-form-demo-normal-login'>\r\n                <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n                    <Form.Item>\r\n                        {getFieldDecorator('username', {\r\n                            rules: [{ required: true, message: '请输入用户名' }],\r\n                        })(\r\n                            <Input\r\n                                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                placeholder=\"用户名\"\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('password', {\r\n                            rules: [{ required: true, message: '请输入密码' }],\r\n                        })(\r\n                            <Input\r\n                                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                type=\"password\"\r\n                                placeholder=\"密码\"\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('remember', {\r\n                            valuePropName: 'checked',\r\n                            initialValue: true,\r\n                        })(<Checkbox>记住我</Checkbox>)}\r\n                        <a className=\"login-form-forgot\" href=\"\">\r\n                            忘记密码了?\r\n                    </a>\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                            登录\r\n                    </Button>\r\n                        去 <Link to=\"/regist\">注册</Link>\r\n                    </Form.Item>\r\n                </Form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({ name: 'normal_login' })(NormalLoginForm);\r\n\r\nexport default WrappedNormalLoginForm","import React from 'react';\r\nimport { Route, Redirect, Switch } from 'react-router-dom'\r\nimport Auth from '../components/Auth'\r\n\r\nimport 'antd/dist/antd.css';\r\nimport 'antd-mobile/lib/date-picker/style/css'; \r\n\r\nimport Header from '../components/Header'\r\nimport Footer from '../components/Footer/Footer'\r\nimport Home from './Home';\r\nimport My from './My';\r\nimport ShopCart from \"./ShopCart\";\r\nimport Detail from './Detail'\r\nimport ErrorPage from './ErrorPage'\r\nimport Regist from './Regist'\r\nimport Login from './Login'\r\n\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className={'App'}>\r\n                <Header></Header>\r\n                <Switch>\r\n                    <Redirect exact from=\"/\" to=\"/home\" />\r\n                    <Route path='/home' component={Home}></Route>\r\n                    <Auth path='/my' component={My}></Auth>\r\n                    <Auth path='/shopcart' component={ShopCart}></Auth>\r\n                    <Route path='/detail' component={Detail}></Route>\r\n                    <Route path='/regist' component={Regist} />\r\n                    <Route path='/login' component={Login} />\r\n                    <Route component={ErrorPage} />\r\n                </Switch>\r\n                <Footer></Footer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport { Provider } from 'react-redux';\r\nimport store from './plugins/redux'\r\n\r\nimport App from './pages/App'\r\n\r\nReactDom.render(\r\n    <Provider  store={store}>\r\n        <BrowserRouter>\r\n            <App />\r\n        </BrowserRouter>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}